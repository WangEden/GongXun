## 比赛地图

![map](.\static\imgs\image.png)

## 比赛流程

1. 车从启动区出发，沿着行车道开环走到二维码板前
2. 扫描二维码获取物料搬运顺序，如“123+321”
    - 1：红色，2：绿色，3：蓝色
    - 格式：一轮顺序+二轮顺序
3. 从二维码区开环前往A区（原料区）附近
4. 开环将机械臂伸出，让摄像头垂直向下正对转盘上靠近车的物块
5. 识别摄像头正下方物块颜色
6. 如果不是正确颜色就等待，如果是正确颜色就发出信号转动机械臂头部，机械臂头部另一个摄像头确定物块是否对正了机械爪，没对正就调整，对正了就抓取
7. 抓完放好后机械臂重新恢复观察物块颜色的状态

8. 按照顺序取完三个物块后，巡线然后转弯，根据颜色决定开环走到B区（粗加工区）的哪个色环附近
9. 之后抓出物块、校准、放置，移动到下一个色环旁边重复该步骤
10. 放置完三个后，重新执行识别颜色、校准位置抓取物块的程序，按顺序将物块回收，前往C区（暂存区）
11. 巡线，转弯，前往C区，同样根据颜色决定开环走到C区的哪个色环附近（地上的色环），放置过程和在B区一样

12. 放置完三个物块后原路返回至A区（这样比较近）
13. 根据第二轮的顺序识别、校准、抓取物块
14. 前往B区，根据颜色决定先停在哪个色环前面，重复之前放置的步骤
15. 放完三个后，按顺序取回三个物块，前往C区
16. 同样根据颜色顺序决定停在哪个色环前面，重复之前步骤，但码垛放置后三个物块
17. 放置完三个物块后，前往启停区停车


### 校准过程
摄像头拍一张照片确定误差，发送给下位机，下位机移动一段距离后，发送完成信号给上位机，再重复该步骤；直到误差小于约定值，发送结束调整信号给下位机让下位机执行下一步的程序